{
  "version": "1.0",
  "id": "4b6ed1b7-619e-472c-b165-f2df9c167a17",
  "label": "Bastion host",
  "autoExpand": false,
  "skipEveryInstanceFiles": false,
  "limitToAllowedChildren": false,
  "autoGenerate": false,
  "key": "",
  "infoHtml": "",
  "attributes": [
    {
      "id": "72d722af-dbaf-4317-8d88-a86c7dc5151c",
      "name": "aws_region",
      "caption": "AWS region",
      "type": "java.lang.String",
      "formColumn": 2,
      "formOrder": 2400,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": true,
      "isPartOfKey": false,
      "listOfValues": "",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": false,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "",
      "scope": "Instance",
      "defaultValue": "$container.getAttribute(\"aws_vpc_region\")"
    },
    {
      "id": "5a8e1283-fb3e-4634-846d-4c5ffda46c24",
      "name": "bastion_name",
      "caption": "bastion_name",
      "type": "java.lang.String",
      "formColumn": 1,
      "formOrder": 1100,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": true,
      "isPartOfKey": true,
      "listOfValues": "",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": false,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "",
      "scope": "Instance",
      "defaultValue": "$instance.parent.getAttribute(\"vpc_name_prefix\")-bastion-asg"
    },
    {
      "id": "e8035ab0-f1d2-4b4b-8ec7-90db4dea346b",
      "name": "image_id",
      "caption": "Image id",
      "type": "java.lang.String",
      "formColumn": 1,
      "formOrder": 1300,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": true,
      "isPartOfKey": false,
      "listOfValues": "ami-0de53d8956e8dcf80\u003dAmazon Linux 2 AMI 2.0.20190313 x86_64 HVM gp2 - us-east-1,ami-07683a44e80cd32c5\u003dAmazon Linux 2 AMI 2.0.20190313 x86_64 HVM gp2 - eu-west-1",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": true,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "",
      "scope": "Instance",
      "defaultValue": "ami-0de53d8956e8dcf80"
    },
    {
      "id": "fc4e3cbc-a698-49eb-924f-5ac30c5113be",
      "name": "image_owners",
      "caption": "Image owner",
      "type": "java.lang.String",
      "formColumn": 1,
      "formOrder": 1300,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": true,
      "isPartOfKey": false,
      "listOfValues": "self,amazon",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": true,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "\u003cp\u003eApplicable when searching the AMI by name\u003c/p\u003e\n\u003cp\u003eList of AMI owners to limit search. At least 1 value must be specified. Valid values: an AWS account ID, self (the current account), or an AWS owner alias (e.g. amazon, aws-marketplace, microsoft)\u003c/p\u003e",
      "scope": "Instance",
      "defaultValue": "amazon"
    },
    {
      "id": "08fa6228-061b-4c45-a3bc-521f1cb4eeb6",
      "name": "instance_type",
      "caption": "Instance type",
      "type": "java.lang.String",
      "formColumn": 1,
      "formOrder": 1400,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": true,
      "isPartOfKey": false,
      "listOfValues": "t3.nano,t3.micro,t3.small",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": true,
      "parseWithVelocity": false,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "",
      "scope": "Instance",
      "defaultValue": "t3.nano"
    },
    {
      "id": "04d90c41-ad38-4459-87ee-d67ed51786fb",
      "name": "key_pair_name",
      "caption": "Key pair name",
      "type": "java.lang.String",
      "formColumn": 1,
      "formOrder": 1600,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": false,
      "isPartOfKey": false,
      "listOfValues": "",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": false,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "",
      "scope": "Instance",
      "defaultValue": ""
    },
    {
      "id": "857fbc7c-9c34-4e42-8b24-d8a1ab66be0d",
      "name": "private_key_file",
      "caption": "Private key file",
      "type": "java.lang.String",
      "formColumn": 1,
      "formOrder": 1700,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": true,
      "isPartOfKey": false,
      "listOfValues": "",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": false,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "\u003cp\u003eThe name of the file with the private key that gives access to the bastion host\u003c/p\u003e",
      "scope": "Instance",
      "defaultValue": "/root/.ssh/keys/${instance.getAttribute(\"key_pair_name\").replaceAll(\"-\", \"_\")}.pem"
    },
    {
      "id": "643766c8-2681-46c8-b6ac-c5307401c8e2",
      "name": "propagated_tag_list",
      "caption": "Propagated tag list",
      "type": "byte[]",
      "formColumn": 2,
      "formOrder": 2300,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": false,
      "isPartOfKey": false,
      "listOfValues": "",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": false,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "\u003cp\u003eExample:\u003c/p\u003e\n\u003cpre\u003e\u003csource\u003e\ntag {\n    key \u003d \"Name\"\n    value \u003d \"infraxys-1\"\n    propagate_at_launch \u003d true\n},\ntag {\n    key \u003d \"Environment\"\n    value \u003d \"production\"\n    propagate_at_launch \u003d true\n}\n\u003c/pre\u003e\u003c/source\u003e",
      "scope": "Instance",
      "defaultValue": ""
    },
    {
      "id": "1091905f-358c-45a3-98cb-e202dc8716d6",
      "name": "ssh_username",
      "caption": "SSH username",
      "type": "java.lang.String",
      "formColumn": 1,
      "formOrder": 1500,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": false,
      "isPartOfKey": false,
      "listOfValues": "",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": false,
      "parseWithVelocity": false,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "\u003cp\u003eSpecify the username that should be used to connect to the bastion host over SSH\u003c/p\u003e",
      "scope": "Instance",
      "defaultValue": "ec2-user"
    },
    {
      "id": "6a3c0e6a-866b-403c-9523-4f8d52be7259",
      "name": "tag_list",
      "caption": "Tag list",
      "type": "byte[]",
      "formColumn": 2,
      "formOrder": 2250,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": false,
      "isPartOfKey": false,
      "height": 4,
      "listOfValues": "",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": false,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "\u003cp\u003eSpecify the tags to add to AWS resources. This value is parsed with Velocity.\u003c/p\u003e\n\u003cp\u003eEnter something like the following:\u003cp\u003e\n\u003cpre\u003e\u003ccode\u003e\n    Owner       \u003d \"user\",\n    Environment \u003d \"staging\",\n    Name        \u003d \"complete\"\n\u003c/pre\u003e\u003c/code\u003e",
      "scope": "Instance",
      "defaultValue": ""
    },
    {
      "id": "44dfaf32-3913-46b5-aa22-c48aaab3775d",
      "name": "whitelist",
      "caption": "Whitelist",
      "type": "java.lang.String",
      "formColumn": 2,
      "formOrder": 2200,
      "visibility": "ALWAYS VISIBLE",
      "writability": "ALWAYS",
      "required": true,
      "isPartOfKey": false,
      "listOfValues": "",
      "cacheMinutes": 0,
      "referenceFilter": "",
      "referenceValueAttributeName": "",
      "referenceChildIdFilter": "",
      "newItemsAllowed": false,
      "parseWithVelocity": true,
      "cloneAttribute": true,
      "inputPrompt": "",
      "tooltip": "\u003cp\u003eAdd a comma-separated list like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\"10.0.0.1/32\",\"10.0.0.5/32\"\u003c/pre\u003e\u003c/code\u003e",
      "scope": "Instance",
      "defaultValue": "\"0.0.0.0/0\""
    }
  ],
  "files": [
    {
      "id": "64ab932d-f00b-493d-a322-a0e39e278af7",
      "filename": "bastion.tf",
      "menuCaption": "bastion.tf",
      "directory": "",
      "runsIndependent": false,
      "runsParallel": false,
      "runBeforeIndependentActions": false,
      "parseWithVelocity": true,
      "executable": false,
      "saveWith": "CURRENT INSTANCE",
      "isInteractive": false,
      "hideRunnerWindow": false,
      "timeoutSeconds": 3600,
      "key": "",
      "menuOrder": 100,
      "menuSeparatorBefore": false,
      "hideFromInstanceActionsMenu": false,
      "hideFromBottomMenu": false,
      "menuPath": "",
      "dockerImage": "",
      "customCommand": ""
    }
  ],
  "allowedChildren": []
}